<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agendamento de Consultas</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Cabeçalho -->
  <header>
    <a href="index.html">
      <img src="images/logo.png" alt="Logo">
    </a>
    <nav>
      <ul class="nav-links">
        <li><a href="especialidades.html">Especialidades</a></li>
        <li><a href="sobre.html">Sobre</a></li>
      </ul>
      <div class="profile">
        <a href="loginpage.html">
          <img src="images/pfp.jpg" alt="Profile">
        </a>
      </div>
    </nav>
  </header>

  <!-- Seção de agendamento -->
  <section class="agendamento">
    <h2>Agendar Consulta</h2>
    <p>Escolha a especialidade, o médico e depois selecione o horário para agendar sua consulta.</p>

    <!-- Formulário de agendamento -->
    <form action="confirmacao.html" method="POST">
      <!-- Escolha da especialidade -->
      <label for="especialidade">Escolha a especialidade:</label>
      <select id="especialidade" name="especialidade" required>
        <option value="">Selecione uma especialidade</option>
        <option value="cardiologia">Cardiologia</option>
        <option value="ortopedia">Ortopedia</option>
        <option value="pediatria">Pediatria</option>
        <!-- Adicione mais especialidades conforme necessário -->
      </select>

      <!-- Lista de médicos -->
      <div id="medicos-container" style="display:none;">
        <label for="medico">Escolha o médico:</label>
        <select id="medico" name="medico" required disabled>
          <option value="">Escolha a especialidade primeiro</option>
        </select>
      </div>

      <!-- Escolha do dia -->
      <div id="dias-container" style="display:none;">
        <label for="dia">Escolha o dia:</label>
        <input type="date" id="dia" name="dia" required disabled>
      </div>

      <!-- Lista de horários -->
      <div id="horarios-container" style="display:none;">
        <label for="horarios">Horários Disponíveis:</label>
        <select id="horarios" name="horarios" required disabled>
          <option value="">Escolha o dia primeiro</option>
        </select>
      </div>

      <button type="submit" id="agendar-btn" disabled>Agendar Consulta</button>
    </form>
  </section>

  <script>
    // Função para atualizar os médicos disponíveis conforme a especialidade selecionada
    document.getElementById("especialidade").addEventListener("change", function() {
      const especialidade = this.value;
      const medicoSelect = document.getElementById("medico");
      const diaInput = document.getElementById("dia");
      const horariosSelect = document.getElementById("horarios");
      const agendarBtn = document.getElementById("agendar-btn");

      // Limpar opções anteriores
      medicoSelect.innerHTML = "";
      horariosSelect.innerHTML = "";
      
      // Ocultar todas as seções antes de carregar
      document.getElementById("medicos-container").style.display = "none";
      document.getElementById("dias-container").style.display = "none";
      document.getElementById("horarios-container").style.display = "none";
      agendarBtn.disabled = true;

      if (especialidade) {
        // Exemplo de médicos para cada especialidade
        let medicos = [];
        if (especialidade === "cardiologia") {
          medicos = ["Dr. João Silva", "Dra. Maria Souza"];
        } else if (especialidade === "ortopedia") {
          medicos = ["Dr. Carlos Almeida", "Dra. Ana Costa"];
        } else if (especialidade === "pediatria") {
          medicos = ["Dr. Pedro Lima", "Dra. Carla Ferreira"];
        }

        // Exibir a lista de médicos
        medicos.forEach(function(medico) {
          const option = document.createElement("option");
          option.value = medico;
          option.textContent = medico;
          medicoSelect.appendChild(option);
        });

        // Exibir a seção de médicos
        document.getElementById("medicos-container").style.display = "block";
        medicoSelect.disabled = false;
      }
    });

    // Função para atualizar os horários disponíveis conforme o médico e dia selecionados
    document.getElementById("medico").addEventListener("change", function() {
      const medico = this.value;
      const diaInput = document.getElementById("dia");
      const horariosSelect = document.getElementById("horarios");
      const agendarBtn = document.getElementById("agendar-btn");

      // Limpar opções anteriores
      horariosSelect.innerHTML = "";

      // Ocultar a seção de horários antes de carregar
      document.getElementById("horarios-container").style.display = "none";
      agendarBtn.disabled = true;

      if (medico) {
        // Exemplo de horários por médico
        let horarios = [];
        if (medico === "Dr. João Silva") {
          horarios = ["08:00", "10:00", "14:00", "16:00"];
        } else if (medico === "Dra. Maria Souza") {
          horarios = ["09:00", "11:00", "13:00", "15:00"];
        } else if (medico === "Dr. Carlos Almeida") {
          horarios = ["09:30", "11:30", "13:30", "15:30"];
        } else if (medico === "Dra. Ana Costa") {
          horarios = ["10:00", "12:00", "14:00", "16:00"];
        } else if (medico === "Dr. Pedro Lima") {
          horarios = ["08:30", "10:30", "12:30", "14:30"];
        } else if (medico === "Dra. Carla Ferreira") {
          horarios = ["09:00", "11:00", "13:00", "15:00"];
        }

        // Exibir a seção de dias e horários
        document.getElementById("dias-container").style.display = "block";
        diaInput.disabled = false;
      }
    });

    // Função para atualizar os horários disponíveis conforme o dia selecionado
    document.getElementById("dia").addEventListener("change", function() {
      const dia = this.value;
      const horariosSelect = document.getElementById("horarios");
      const agendarBtn = document.getElementById("agendar-btn");

      // Limpar opções anteriores
      horariosSelect.innerHTML = "";

      // Ocultar a seção de horários antes de carregar
      document.getElementById("horarios-container").style.display = "none";
      agendarBtn.disabled = true;

      if (dia) {
        // Exemplo de horários para qualquer médico
        const horarios = ["08:00", "10:00", "12:00", "14:00", "16:00"];

        // Adicionar horários no dropdown
        horarios.forEach(function(horario) {
          const option = document.createElement("option");
          option.value = horario;
          option.textContent = horario;
          horariosSelect.appendChild(option);
        });

        // Exibir a seção de horários
        document.getElementById("horarios-container").style.display = "block";
        horariosSelect.disabled = false;
        agendarBtn.disabled = false;
      }
    });
  </script>
</body>
</html>
